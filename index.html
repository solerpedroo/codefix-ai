<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeFix AI - Detector de Falhas em Código com IA Groq</title>
    <link rel="stylesheet" href="styles/styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>CodeFix AI</h1>
            <p>Detecte falhas e otimize seu código com IA Groq</p>
            <div class="developer">Desenvolvido por Pedro Soler</div>
        </div>

        <div class="controls">
            <div>
                <label>Linguagem:</label>
                <select id="languageSelect">
                    <option value="python">Python</option>
                    <option value="javascript">JavaScript</option>
                    <option value="typescript">TypeScript</option>
                    <option value="c">C</option>
                    <option value="cpp">C++</option>
                    <option value="java">Java</option>
                    <option value="sql">SQL</option>
                    <option value="go">Go</option>
                    <option value="php">PHP</option>
                    <option value="ruby">Ruby</option>
                    <option value="rust">Rust</option>
                    <option value="swift">Swift</option>
                    <option value="kotlin">Kotlin</option>
                    <option value="csharp">C#</option>
                </select>
            </div>

            <div class="controls-buttons">
                <button class="btn btn-secondary" onclick="toggleHistory()">
                    Histórico (<span id="historyCount">0</span>)
                </button>
                <button class="btn btn-secondary" id="downloadBtn" onclick="downloadReport()" style="display: none;">
                    Baixar Relatório
                </button>
            </div>
        </div>

        <div id="historyPanel" class="history-panel" style="display: none;">
            <div class="history-header">
                <h3>Histórico de Análises</h3>
                <button class="btn btn-danger" onclick="clearHistory()">Limpar Tudo</button>
            </div>
            <div id="historyList"></div>
        </div>

        <div class="main-grid">
            <div class="code-panel">
                <h2>Código Original</h2>
                <textarea id="codeInput" placeholder="Cole seu código aqui para análise..."># Exemplo de código Python com problemas
printf("Hello World")

def calculate():
    x = 10
    y = 0
    result = x / y  # Divisão por zero!
    return result

print(calculate())</textarea>
                
                <div class="api-info">
                    <p><strong>⚡ Usando Groq AI:</strong></p>
                    <div class="model-info">
                        <span>Modelo: <strong>Llama 3.3 70b Versatile</strong></span>
                        <span class="model-status">● Online</span>
                    </div>
                    <p class="api-note">
                        ✅ Análise avançada com IA Groq<br>
                        ✅ Correções automáticas em tempo real<br>
                        ✅ Suporte a todas as linguagens
                    </p>
                </div>
                
                <button class="btn btn-primary analyze-btn" onclick="analyzeCode()" id="analyzeBtn">
                    <span class="btn-icon"></span> Analisar Código com IA
                </button>
            </div>

            <div class="code-panel">
                <h2>Código Corrigido</h2>
                <div id="resultContainer">
                    <div class="placeholder">
                        <div class="welcome-icon"></div>
                        <p>Aguardando análise...</p>
                        <p class="welcome-text">
                            Insira seu código e clique em "Analisar Código com IA"<br>
                            para detecção e correção automática de erros
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div id="summarySection" style="display: none;"></div>

        <div class="footer">
            <p>Powered by Groq AI - Análise de código em tempo real</p>
            <p class="copyright">© 2026 Pedro Soler - Todos os direitos reservados</p>
        </div>
    </div>

    <script src="scripts/script.js"></script>
</body>
</html>